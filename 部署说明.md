# 葡萄酒品质分析系统 - 部署说明

## 一、部署前准备

### 1. 确保包含以下文件

部署时需要将以下**所有文件**复制到客户电脑：

```
项目文件夹/
├── wine_analysis.py          # 主程序文件（必需）
├── requirements.txt           # 依赖包列表（必需）
├── README.md                  # 说明文档（可选）
└── output/                    # 输出目录（运行后自动创建，可选）
```

**重要**：`requirements.txt` 和 `wine_analysis.py` 必须在**同一个目录**下！

---

## 二、部署步骤

### 步骤1：检查文件位置

打开 PowerShell 或命令提示符，进入项目文件夹：

```powershell
# 示例：如果项目在桌面
cd C:\Users\ChenMeiling\Desktop\pythonks

# 或者如果项目在其他位置
cd 你的项目文件夹路径
```

### 步骤2：确认文件存在

列出当前目录的文件，确认 `requirements.txt` 存在：

```powershell
# Windows PowerShell
dir

# 或者
ls
```

应该能看到：
- `wine_analysis.py`
- `requirements.txt`
- 其他文件...

### 步骤3：安装依赖

**确保在项目文件夹目录下执行**：

```powershell
pip install -r requirements.txt
```

如果仍然报错，可以尝试：

```powershell
# 方法1：使用完整路径
pip install -r .\requirements.txt

# 方法2：检查当前目录
pwd  # 查看当前路径
dir requirements.txt  # 确认文件存在

# 方法3：如果文件在其他位置，使用绝对路径
pip install -r C:\Users\ChenMeiling\Desktop\pythonks\requirements.txt
```

---

## 三、常见问题解决

### 问题1：找不到 requirements.txt

**原因**：
- 文件不在当前目录
- 文件名拼写错误
- 文件未复制到客户电脑

**解决方法**：

1. **检查文件是否存在**：
```powershell
Test-Path requirements.txt
# 如果返回 False，说明文件不存在
```

2. **查找文件位置**：
```powershell
Get-ChildItem -Recurse -Filter requirements.txt
```

3. **手动创建 requirements.txt**（如果文件丢失）：
   在项目文件夹中创建 `requirements.txt` 文件，内容如下：
```
pandas>=1.5.0
numpy>=1.23.0
matplotlib>=3.6.0
seaborn>=0.12.0
scikit-learn>=1.2.0
```

### 问题2：pip 命令不可用

**解决方法**：
```powershell
# 使用 python -m pip
python -m pip install -r requirements.txt

# 或者使用 py
py -m pip install -r requirements.txt
```

### 问题3：权限问题

**解决方法**：
```powershell
# 以管理员身份运行 PowerShell，或使用用户安装
pip install --user -r requirements.txt
```

---

## 四、完整部署流程

### 方式一：手动部署

1. **复制所有文件到客户电脑**
   - 将整个项目文件夹复制到客户电脑
   - 确保 `wine_analysis.py` 和 `requirements.txt` 在同一文件夹

2. **打开 PowerShell**
   - 按 `Win + X`，选择 "Windows PowerShell"
   - 或按 `Win + R`，输入 `powershell`

3. **进入项目目录**
   ```powershell
   cd C:\Users\ChenMeiling\Desktop\pythonks
   ```

4. **安装依赖**
   ```powershell
   pip install -r requirements.txt
   ```

5. **运行程序**
   ```powershell
   python wine_analysis.py
   ```

### 方式二：一键部署脚本

创建一个 `install.bat` 文件（Windows批处理文件）：

```batch
@echo off
echo 正在安装依赖包...
pip install -r requirements.txt
if %errorlevel% == 0 (
    echo 安装成功！
    echo 正在运行程序...
    python wine_analysis.py
) else (
    echo 安装失败，请检查网络连接和Python环境
    pause
)
```

客户只需双击 `install.bat` 即可自动安装和运行。

---

## 五、验证部署

安装完成后，验证是否成功：

```powershell
# 检查 Python 版本
python --version

# 检查已安装的包
pip list | findstr "pandas numpy matplotlib seaborn scikit-learn"

# 运行程序
python wine_analysis.py
```

---

## 六、最小部署文件清单

**必需文件**（2个）：
1. `wine_analysis.py` - 主程序
2. `requirements.txt` - 依赖列表

**可选文件**：
- `README.md` - 说明文档
- `部署说明.md` - 本文件

**自动生成**：
- `output/` 目录及文件（运行后自动创建）

---

## 七、快速检查清单

在客户电脑上部署前，确认：

- [ ] `wine_analysis.py` 文件存在
- [ ] `requirements.txt` 文件存在
- [ ] 两个文件在同一目录
- [ ] Python 已安装（3.7+）
- [ ] pip 可用（`pip --version`）
- [ ] 网络连接正常（用于下载包）

---

## 八、如果 requirements.txt 丢失

如果 `requirements.txt` 文件丢失，可以手动创建：

1. 在项目文件夹中创建新文件 `requirements.txt`
2. 复制以下内容：

```
pandas>=1.5.0
numpy>=1.23.0
matplotlib>=3.6.0
seaborn>=0.12.0
scikit-learn>=1.2.0
```

3. 保存文件
4. 重新执行 `pip install -r requirements.txt`

---

**提示**：如果客户电脑无法联网，可以预先下载所有依赖包，使用离线安装方式。


